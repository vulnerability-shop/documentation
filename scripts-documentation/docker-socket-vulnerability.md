# Docker socket

1. Set up a vulnerable environment:
Create a new Dockerfile with the following content:

> Dockerfile

```
FROM alpine:3.14

RUN apk add --no-cache docker-cli

CMD ["/bin/sh"]
```
This Dockerfile sets up a basic Alpine Linux image with the Docker CLI installed.

---


2. Build the Docker image and run the container:
```
docker build -t docker_socket_vulnerable .
docker run -d --name docker_socket_vulnerable_container -v /var/run/docker.sock:/var/run/docker.sock docker_socket_vulnerable
```
In this command, we are mounting the Docker socket (/var/run/docker.sock) from the host inside the container.

---

3. Exploit the vulnerability
Access the container shell:
```
docker exec -it docker_socket_vulnerable_container /bin/sh
```
Now that you have access to the container shell, you can use the Docker CLI to list all running containers:
```
docker container ls
```
Since the Docker socket is mounted inside the container, you can run any Docker command as if you were running it on the host. This can lead to unauthorized access to other containers, their data, and even the host system itself.